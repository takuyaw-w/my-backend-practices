# エンドポイント設計書

## **1. 認証関連**

| HTTP メソッド | エンドポイント         | 機能                           | 備考                   |
| ------------- | ---------------------- | ------------------------------ | ---------------------- |
| POST          | `/auth/register`       | ユーザー登録                   | 管理者登録は不可       |
| POST          | `/auth/admin-register` | 管理者登録                     | 管理者のみアクセス可能 |
| POST          | `/auth/login`          | ユーザー認証およびトークン発行 | 全ユーザー対象         |

---

## **2. ユーザー管理**

| HTTP メソッド | エンドポイント | 機能                   | 備考                 |
| ------------- | -------------- | ---------------------- | -------------------- |
| GET           | `/users`       | 全ユーザーの一覧取得   | 管理者専用           |
| GET           | `/users/{id}`  | 特定ユーザーの詳細取得 | 管理者または本人のみ |
| PUT           | `/users/{id}`  | ユーザー情報の更新     | 管理者または本人のみ |
| DELETE        | `/users/{id}`  | ユーザーの削除         | 管理者または本人のみ |

---

## **3. TODO 管理**

| HTTP メソッド | エンドポイント       | 機能                  | 備考                   |
| ------------- | -------------------- | --------------------- | ---------------------- |
| GET           | `/todos`             | TODO リストの取得     | 全ユーザー対象         |
| GET           | `/todos/{id}`        | 特定 TODO の詳細取得  | 全ユーザー対象         |
| POST          | `/todos`             | 新規 TODO の作成      | 全ユーザー対象         |
| PUT           | `/todos/{id}`        | TODO 情報の更新       | 作成者または管理者のみ |
| DELETE        | `/todos/{id}`        | TODO の削除           | 作成者または管理者のみ |
| POST          | `/todos/{id}/assign` | TODO へのアサイン追加 | 作成者または管理者のみ |
| DELETE        | `/todos/{id}/assign` | TODO へのアサイン削除 | 作成者または管理者のみ |

---

## **4. コメント管理**

| HTTP メソッド | エンドポイント                      | 機能               | 備考               |
| ------------- | ----------------------------------- | ------------------ | ------------------ |
| POST          | `/todos/{id}/comments`              | コメントの追加     | 全ユーザー対象     |
| GET           | `/todos/{id}/comments`              | コメント一覧の取得 | 全ユーザー対象     |
| PUT           | `/todos/{id}/comments/{comment_id}` | コメントの編集     | 投稿者のみ編集可能 |
| DELETE        | `/todos/{id}/comments/{comment_id}` | コメントの削除     | 投稿者のみ削除可能 |
